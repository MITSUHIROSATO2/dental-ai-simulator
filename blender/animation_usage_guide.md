# アバターアニメーションシステム使用ガイド

## 概要
アニメーションがうまく動作するようにアバターの構造を改善しました。

## 実装した機能

### 1. 顔のリグ（ボーン）構造
- **Head**: 頭部の基本ボーン
- **Jaw**: 顎ボーン（口を開く動作）
- **UpperLip_Center/L/R**: 上唇の制御
- **LowerLip_Center/L/R**: 下唇の制御
- **MouthCorner_L/R**: 口角の制御

### 2. シェイプキー
- **Talk_Open**: 会話時の自然な開口
- **Vowel_A/I/U/E/O_Talk**: 日本語母音「あいうえお」
- **Consonant_M/H**: 子音（ま行、は行）
- **Smile_Subtle**: 微笑み
- **Frown**: 困り顔
- **Half_Open**: ブレンド用

### 3. アニメーションコントローラー
**FaceController**オブジェクトで以下を制御：
- `mouth_open`: 口の開き具合（0-1）
- `jaw_rotation`: 顎の回転（-0.5〜0.5）
- `vowel_a/i/u/e/o`: 各母音の強度（0-1）
- `smile`: 笑顔の強度（0-1）
- `frown`: 困り顔の強度（0-1）
- `talk_intensity`: 会話の強度（0-2）

## 使用方法

### 基本的な操作
1. Blenderで`無題.blend`を開く
2. `FaceController`オブジェクトを選択
3. Nキーでプロパティパネルを開く
4. カスタムプロパティのスライダーで口の動きを制御

### アニメーション再生
- スペースキーで「こんにちは」のサンプルアニメーションを再生
- Timeline（タイムライン）でフレームを確認

### カスタムアニメーション作成
1. FaceControllerを選択
2. 任意のフレームでプロパティを調整
3. Iキーでキーフレームを挿入
4. 複数のプロパティを組み合わせて自然な会話を表現

### ボーン制御（上級者向け）
1. FaceRigアーマチュアを選択
2. ポーズモードに切り替え
3. 個別のボーンを直接操作可能

## 特徴
- シェイプキーとボーンの連携により柔軟な制御が可能
- 日本語の発音に最適化された母音形状
- 自然な会話アニメーションを簡単に作成
- 強度調整により表現の幅を調整可能